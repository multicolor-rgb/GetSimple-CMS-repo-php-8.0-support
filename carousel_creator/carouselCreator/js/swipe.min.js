!function(t,e){t=t||{},"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){var e,Q="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,W=Q.document;function Swipe(r,a){"use strict";function e(){}function n(t){return!!t&&("boolean"!=typeof t.cancelable||t.cancelable)}var o,t,s={},u={},l=(a=a||{}).auto||0,i=!1,c=function(t){setTimeout(t||e,0)};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});var d={addEventListener:!!Q.addEventListener,passiveEvents:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});Q.addEventListener("testEvent",null,t),Q.removeEventListener("testEvent",null,t)}catch(t){e=!1}return e}(),touch:"ontouchstart"in Q||Q.DocumentTouch&&W instanceof DocumentTouch,transitions:function(t){var e,n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(e in n)if(void 0!==t.style[n[e]])return!0;return!1}(W.createElement("swipe"))};if(r){var v,f,m,h,p=r.children[0],E=parseInt(a.startSlide,10)||0,y=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var g,b,T=(g="direction",r.currentStyle?b=r.currentStyle[g]:Q.getComputedStyle&&(b=Q.getComputedStyle(r,null).getPropertyValue(g)),"rtl"===b?"right":"left");a.autoRestart=void 0!==a.autoRestart&&a.autoRestart;var x=function(n,i){i=i||100;var o=null;function s(){o&&clearTimeout(o)}function t(){var t=this,e=arguments;s(),o=setTimeout(function(){o=null,n.apply(t,e)},i)}return t.cancel=s,t}(S),L={handleEvent:function(t){if(!i||"resize"===t.type){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":x()}a.stopPropagation&&t.stopPropagation()}},start:function(t){var e=X(t)?t:t.touches[0];a.ignore&&e.target.matches(a.ignore)||(X(t)&&t.preventDefault(),s={x:e.pageX,y:e.pageY,time:+new Date},o=void 0,u={},X(t)?(p.addEventListener("mousemove",this,!1),p.addEventListener("mouseup",this,!1),p.addEventListener("mouseleave",this,!1)):(p.addEventListener("touchmove",this,!!d.passiveEvents&&{passive:!1}),p.addEventListener("touchend",this,!1)),e=j(),t=v[E],a.dragStart&&a.dragStart(e,t))},move:function(t){var e;if(X(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;a.disableScroll&&n(t)&&t.preventDefault(),e=t.touches[0]}u={x:e.pageX-s.x,y:e.pageY-s.y},void 0===o&&(o=!!(o||Math.abs(u.x)<Math.abs(u.y))),o||(n(t)&&t.preventDefault(),I(),a.continuous?(R(A(E-1),u.x+f[A(E-1)],0),R(E,u.x+f[E],0),R(A(E+1),u.x+f[A(E+1)],0)):(u.x=u.x/(!E&&0<u.x||E===v.length-1&&u.x<0?Math.abs(u.x)/m+1:1),R(E-1,u.x+f[E-1],0),R(E,u.x+f[E],0),R(E+1,u.x+f[E+1],0)))},end:function(t){var e=+new Date-s.time,n=Number(e)<250&&20<Math.abs(u.x)||Math.abs(u.x)>m/2,i=!E&&0<u.x||E===v.length-1&&u.x<0;a.continuous&&(i=!1);e=Math.abs(u.x)/u.x;o||(n&&!i?(E=e<0?(a.continuous?(P(A(E-1),-m,0),P(A(E+2),m,0)):P(E-1,-m,0),P(E,f[E]-m,y),P(A(E+1),f[A(E+1)]-m,y),A(E+1)):(a.continuous?(P(A(E+1),m,0),P(A(E-2),-m,0)):P(E+1,m,0),P(E,f[E]+m,y),P(A(E-1),f[A(E-1)]+m,y),A(E-1)),k(j(),v[E],e)):a.continuous?(P(A(E-1),-m,y),P(E,0,y),P(A(E+1),m,y)):(P(E-1,-m,y),P(E,0,y),P(E+1,m,y))),X(t)?(p.removeEventListener("mousemove",L,!1),p.removeEventListener("mouseup",L,!1),p.removeEventListener("mouseleave",L,!1)):(p.removeEventListener("touchmove",L,!!d.passiveEvents&&{passive:!1}),p.removeEventListener("touchend",L,!1)),e=j(),t=v[E],a.dragEnd&&a.dragEnd(e,t)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===E&&((l||a.autoRestart)&&N(),z(j(),v[E]))}};return S(),C(),{setup:S,slide:function(t,e){I(),O(t,e)},prev:function(){I(),i||(a.continuous||E)&&O(E-1)},next:function(){I(),M()},restart:N,stop:I,getPos:j,disable:function(){I(),i=!0},enable:function(){i=!1,N()},getNumSlides:function(){return h},kill:function(){I(),r.style.visibility="",p.style.width="",p.style[T]="";var t=v.length;for(;t--;){d.transitions&&R(t,0,0);var e=v[t];e.getAttribute("data-cloned")&&e.parentElement.removeChild(e),e.style.width="",e.style[T]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}w(),x.cancel()}}}function w(){d.addEventListener?(p.removeEventListener("touchstart",L,!!d.passiveEvents&&{passive:!0}),p.removeEventListener("mousedown",L,!1),p.removeEventListener("webkitTransitionEnd",L,!1),p.removeEventListener("msTransitionEnd",L,!1),p.removeEventListener("oTransitionEnd",L,!1),p.removeEventListener("otransitionend",L,!1),p.removeEventListener("transitionend",L,!1),Q.removeEventListener("resize",L,!1)):Q.onresize=null}function D(t){t=t.cloneNode(!0);p.appendChild(t),t.setAttribute("data-cloned",!0),t.removeAttribute("id")}function S(t){if(null!=t)for(var e in t)a[e]=t[e];v=p.children,h=v.length;for(var n=0;n<v.length;n++)v[n].getAttribute("data-cloned")&&h--;if(v.length<2&&(a.continuous=!1),d.transitions&&a.continuous&&v.length<3&&(D(v[0]),D(v[1]),v=p.children),"right"===T)for(var i=0;i<v.length;i++)v[i].style.float="right";f=new Array(v.length),m=r.getBoundingClientRect().width||r.offsetWidth,p.style.width=v.length*m*2+"px";for(var o=v.length;o--;){var s=v[o];s.style.width=m+"px",s.setAttribute("data-index",o),d.transitions&&(s.style[T]=o*-m+"px",P(o,o<E?-m:E<o?m:0,0))}a.continuous&&d.transitions&&(P(A(E-1),-m,0),P(A(E+1),m,0)),d.transitions||(p.style[T]=E*-m+"px"),r.style.visibility="visible",w(),d.addEventListener?(d.touch&&p.addEventListener("touchstart",L,!!d.passiveEvents&&{passive:!0}),a.draggable&&p.addEventListener("mousedown",L,!1),d.transitions&&(p.addEventListener("webkitTransitionEnd",L,!1),p.addEventListener("msTransitionEnd",L,!1),p.addEventListener("oTransitionEnd",L,!1),p.addEventListener("otransitionend",L,!1),p.addEventListener("transitionend",L,!1)),Q.addEventListener("resize",L,!1)):Q.onresize=x}function M(){i||(a.continuous||E<v.length-1)&&O(E+1)}function k(t,e,n){a.callback&&a.callback(t,e,n)}function z(t,e){a.transitionEnd&&a.transitionEnd(t,e)}function A(t){return(v.length+t%v.length)%v.length}function j(){var t=E;return h<=t&&(t-=h),t}function O(t,e){if(t="number"!=typeof t?parseInt(t,10):t,E!==t){if(d.transitions){var n,i=Math.abs(E-t)/(E-t);a.continuous&&(n=i,(i=-f[A(t)]/m)!==n&&(t=-i*v.length+t));for(var o=Math.abs(E-t)-1;o--;)P(A((E<t?t:E)-o-1),m*i,0);t=A(t),P(E,m*i,e||y),P(t,0,e||y),a.continuous&&P(A(t-i),-m*i,0)}else t=A(t),function(e,n,i){if(!i)return p.style[T]=n+"px";var o=+new Date,s=setInterval(function(){var t=+new Date-o;if(i<t)return p.style[T]=n+"px",(l||a.autoRestart)&&N(),z(j(),v[E]),void clearInterval(s);p.style[T]=(n-e)*(Math.floor(t/i*100)/100)+e+"px"},4)}(E*-m,t*-m,e||y);E=t,c(function(){k(j(),v[E],i)})}}function P(t,e,n){R(t,e,n),f[t]=e}function R(t,e,n){t=v[t],t=t&&t.style;t&&(t.webkitTransitionDuration=t.MozTransitionDuration=t.msTransitionDuration=t.OTransitionDuration=t.transitionDuration=n+"ms",t.webkitTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform="translateX("+e+"px)")}function C(){(l=a.auto||0)&&(t=setTimeout(M,l))}function I(){l=0,clearTimeout(t)}function N(){I(),C()}function X(t){return/^mouse/.test(t.type)}}return(Q.jQuery||Q.Zepto)&&((e=Q.jQuery||Q.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}),Swipe});